doctype html
// <html lang="en">
html(lang='en' manifest='cache.manifest')
  head
    meta(charset='utf-8')
    title Pacman in HTML 5 Canvas
    link(rel='stylesheet' href='style.css')
    link(rel='stylesheet' href='pacman-canvas.css')
    // Cache Control
    meta(http-equiv='”Cache-Control”' content='”no-cache”')
    // site icons
    link(rel='shortcut icon' href='img/Icon-130x130.png')
    link(rel='apple-touch-icon' href='img/Icon-130x130.png')
    // Mobile Viewport
    meta(name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0')
    // Apple Mobile Web Capability
    meta(name='apple-mobile-web-app-capable' content='yes')
    // Script
    script(src='js/jquery-1.10.2.min.js' type='text/javascript')
    script(src='js/jquery.hammer.min.js' type='text/javascript')
  body
    .container
      .main
        // Display this message if Javascript is disabled
        noscript
          h2 Enable Javascript!
          p
            | This HTML 5 app requires Javascript to run. Please check that Javascript is enabled in your browser.
        // Highscore
        #highscore-content.content
          #back.button < back
          div
            h1 Highscore
            p
            ol#highscore-list
            p
        // INSTRUCTIONS
        #instructions-content.content
          #back.button < back
          div
            h1 Instructions
            .nomobile
              h2 Controls
              p Use your arrow keys or [W,A,S,D] keys to navigate pacman.
              p
                | To pause / resume the game press [SPACE] or [ESC] or just click into the game area.
            .mobile
              h2 Controls
              p Use swipe gestures to navigate pacman.
              p Alternatively use the Arrow Buttons underneath the game area to navigate pacman.
              p To pause / resume the game, touch the game area once.
            div
              h2 Ghosts
              p Ghosts are creatures that hunt pacman and will kill him if they catch him.
              p Every ghost has its own strategy to chase down pacman.
              h3
                | Inky
                img.pull-right(src='img/inky.svg')
              | 						Inky will stay in the ghost house until pacman has eaten at least 30 pills. His home is the bottom right
              | 						corner.
              h3
                | Blinky 
                img.pull-right(src='img/blinky.svg')
              | 						Blinky is the most agressive of the 4 ghosts. He will start chasing pacman right away, and aim directly at
              | 						him. His home is the upper right corner.
              h3
                | Pinky
                img.pull-right(src='img/pinky.svg')
              | 						Pinky will start chasing pacman right away, he will always aim 4 fields ahead and 4 fields left of pacman.
              | 						His home is the upper left corner.
              h3
                | Clyde
                img.pull-right(src='img/clyde.svg')
              | 						Inky will stay in the ghost house until pacman has eaten at least 2/3 of all pills. His home is the bottom
              | 						left corner.
            div
              h2 Ghost moods
              | 						The ghosts have two different moods that change the way they act during the game.
              h3 Scatter mood
              p
                | This is the default mood. When ghosts are in scatter mood, they will just go to their home corner and
                | stay there.
              img(src='img/instructions/instructions_scatter.PNG')
              h3 Chase mood
              p
                | After a certain time the ghosts change their mood and want to go chasing pacman. This is indicated
                | through the walls turning red.
              img(src='img/instructions/instructions_chase.PNG')
            div
              h2 Items
              h3 Pills
              p
                | The goal of every level is, to eat all the white pills without getting catched by the ghosts. One pill
                | results in 10 points.
              h3 Powerpills
              p
                | In every level there are 4 powerpills, which are a bit bigger than the regular ones. If Pacman eats
                | those, he will get strong enough to eat the ghosts. You can see this indicated by the ghosts turning blue.
                | One powerpill results in 50 points.
              img(src='img/instructions/instructions_powerpill.PNG')
              p
                | Eating a ghost results in 100 points. The soul of the ghost will return to the ghost house before
                | starting to chase Pacman again.
        // Info
        #info-content.content
          #back.button < back
          div
            h1 Info
            p
              | Current Version: 0.91 (15.01.2016) (
              a#updateCode(href='#') get latest
              | )
            img(src='img/platzh1rsch-logo.png')
            p
              | Pacman Canvas is Open Source, written by 
              a(href='http://platzh1rsch.ch') platzh1rsch
              | . You can get the
              | 						code on 
              a(target='_blank' href='https://github.com/platzhersh/pacman-canvas') github
              | .
            p
              | If you have any suggestions how to make this app better, please post your suggestion / request on 
              a(target='_blank' href='https://platzh1rsch.uservoice.com/') uservoice
              | .
            p
        // main game content
        #game-content.content
          p#hostname hostname: #{hostname}
          // main game content
          .game.wrapper
            .score Score:
            .level Lvl:
            .lives Lives: 
            .controlSound
              img#mute(src='img/audio-icon-mute.png')
            // canvas is splitted into 18x13 fields
            #canvas-container
              #canvas-overlay-container
                #canvas-overlay-content
                  #title Pacman Canvas
                  div
                    p#text Click to Play
              canvas#myCanvas(width='540' height='390')
                p Canvas not supported
            #game-buttons.controls
              //
                Will be moved to Instructions
                <p class="nomobile">Use W-A-S-D keys to navigate Pac-Man</p>
              // OLD Buttons
              div
                span#up.controlButton ↑
              div
                span#left.controlButton ←
                span#down.controlButton ↓
                span#right.controlButton →
            // inGame Controls End
            // Game Menu
            #menu-buttons.controls
              ul
                li#newGame.button New Game
                li#highscore.button Highscore
                li#instructions.button Instructions
                li#info.button Info
                li.button(onclick="location.href='/env'") Env
            // Game Menu End
          .description.nomobile
            p
              | This whole thing was written in HTML5, CSS3 and Javascript (using small bits of jquery). For the basics I
              | was following the 
              a(href='http://devhammer.net/blog/exploring-html5-canvas-part-1---introduction' target='_blank') "Exploring HTML5 Canvas"
              |  Tutorials (Part 1 - 6) by Devhammer. Thanks for the great
              | 						Tutorial!
            p
              | For some other stuff, like how to write objectorientated javascript I was following the tutorials over at
              a(href='http://www.codecademy.com/' target='_blank') http://www.codecademy.com/
              | , which is a really
              | 							great site to learn Javascript and also other languages.
            p
              | If you understand German you can also read my blogpost about this site: 
              a(href='http://blog.platzh1rsch.ch/2012/08/pacman-in-html5-canvas.html') "Pacman in HTML5 Canvas"
              | .
            span#audio
              audio#theme(preload='auto')
                source(src='wav/theme.wav' type='audio/wav')
                source(src='mp3/theme.mp3' type='audio/mpeg')
              audio#waka(preload='auto')
                source(src='wav/waka.wav' type='audio/wav')
                source(src='mp3/waka.mp3' type='audio/mpeg')
              audio#die(preload='auto')
                source(src='wav/die.wav' type='audio/wav')
                source(src='mp3/die.mp3' type='audio/mpeg')
              audio#powerpill(preload='auto')
                source(src='wav/powerpill.wav' type='audio/wav')
                source(src='mp3/powerpill.mp3' type='audio/mpeg')
    script(src='pacman-canvas.js' type='text/javascript')
